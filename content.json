{"pages":[{"title":"About","date":"2020-05-05T07:25:17.194Z","path":"about/index.html","text":"å…³äºæˆ‘è‡ªå·± 2018å¹´æ–°åŠ å¡ å…³äºç¼–ç¨‹ ä¸“æ³¨ä¸šåŠ¡,é’ˆå¯¹å®é™…åœºæ™¯ å…´è¶£çˆ±å¥½æ—…è¡Œã€ç¯®çƒã€éŸ³ä¹ã€ ä¸€å¥è¯ åŠªåŠ›æ‰æœ‰å›æŠ¥ é‡å¤§äº‹ä»¶ 2019å¹´æ˜¥èŠ‚ æˆ‘ç»“å©šäº†"},{"title":"Categories","date":"2020-05-05T04:10:58.936Z","path":"categories/index.html","text":""},{"title":"Tags","date":"2020-05-05T04:10:59.084Z","path":"tags/index.html","text":""},{"title":"","date":"2020-05-05T04:29:22.309Z","path":"/404.html","text":"Error 404 Not Found - æ‚¨è®¿é—®çš„é¡µé¢ä¸å­˜åœ¨~"}],"posts":[{"title":"å¸¸ç”¨å·¥å…·æ±‡æ€»","date":"2020-05-06T02:21:33.589Z","path":"wiki/tool/å·¥å…·æ±‡æ€»/","text":"ä¸€ã€å…è´¹ä¸”å¼€æºçš„æµç¨‹å›¾å·¥å…· Draw.ioäºŒã€itest(çˆ±æµ‹è¯•) 4.5.2 å‘å¸ƒï¼ŒBUG è·Ÿè¸ªç®¡ç† &amp; æ•æ·æµ‹è¯•ç®¡ç†è½¯ä»¶ä¸‰ã€å®ç°HTML5ç½‘ç«™ä¸­å¸¸è§çš„æ‹–æ‹½ä¸Šä¼ æ–‡ä»¶ https://www.toutiao.com/i6745411404561383939/ å››ã€mysqlå¸¸ç”¨å‡½æ•°123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105ä¸€ã€æ•°å­¦å‡½æ•°ABS(x) è¿”å›xçš„ç»å¯¹å€¼BIN(x) è¿”å›xçš„äºŒè¿›åˆ¶ï¼ˆOCTè¿”å›å…«è¿›åˆ¶ï¼ŒHEXè¿”å›åå…­è¿›åˆ¶ï¼‰CEILING(x) è¿”å›å¤§äºxçš„æœ€å°æ•´æ•°å€¼EXP(x) è¿”å›å€¼eï¼ˆè‡ªç„¶å¯¹æ•°çš„åº•ï¼‰çš„xæ¬¡æ–¹FLOOR(x) è¿”å›å°äºxçš„æœ€å¤§æ•´æ•°å€¼GREATEST(x1,x2,...,xn) è¿”å›é›†åˆä¸­æœ€å¤§çš„å€¼LEAST(x1,x2,...,xn) è¿”å›é›†åˆä¸­æœ€å°çš„å€¼LN(x) è¿”å›xçš„è‡ªç„¶å¯¹æ•°LOG(x,y) è¿”å›xçš„ä»¥yä¸ºåº•çš„å¯¹æ•°MOD(x,y) è¿”å›x/yçš„æ¨¡ï¼ˆä½™æ•°ï¼‰PI() è¿”å›piçš„å€¼ï¼ˆåœ†å‘¨ç‡ï¼‰RAND() è¿”å›ï¼åˆ°ï¼‘å†…çš„éšæœºå€¼,å¯ä»¥é€šè¿‡æä¾›ä¸€ä¸ªå‚æ•°(ç§å­)ä½¿RAND()éšæœºæ•°ç”Ÿæˆå™¨ç”Ÿæˆä¸€ä¸ªæŒ‡å®šçš„å€¼ã€‚ROUND(x,y) è¿”å›å‚æ•°xçš„å››èˆäº”å…¥çš„æœ‰yä½å°æ•°çš„å€¼SIGN(x) è¿”å›ä»£è¡¨æ•°å­—xçš„ç¬¦å·çš„å€¼SQRT(x) è¿”å›ä¸€ä¸ªæ•°çš„å¹³æ–¹æ ¹TRUNCATE(x,y) è¿”å›æ•°å­—xæˆªçŸ­ä¸ºyä½å°æ•°çš„ç»“æœäºŒã€èšåˆå‡½æ•°(å¸¸ç”¨äºGROUP BYä»å¥çš„SELECTæŸ¥è¯¢ä¸­)AVG(col)è¿”å›æŒ‡å®šåˆ—çš„å¹³å‡å€¼COUNT(col)è¿”å›æŒ‡å®šåˆ—ä¸­éNULLå€¼çš„ä¸ªæ•°MIN(col)è¿”å›æŒ‡å®šåˆ—çš„æœ€å°å€¼MAX(col)è¿”å›æŒ‡å®šåˆ—çš„æœ€å¤§å€¼SUM(col)è¿”å›æŒ‡å®šåˆ—çš„æ‰€æœ‰å€¼ä¹‹å’ŒGROUP_CONCAT(col) è¿”å›ç”±å±äºä¸€ç»„çš„åˆ—å€¼è¿æ¥ç»„åˆè€Œæˆçš„ç»“æœä¸‰ã€å­—ç¬¦ä¸²å‡½æ•°ASCII(char)è¿”å›å­—ç¬¦çš„ASCIIç å€¼BIT_LENGTH(str)è¿”å›å­—ç¬¦ä¸²çš„æ¯”ç‰¹é•¿åº¦CONCAT(s1,s2...,sn)å°†s1,s2...,snè¿æ¥æˆå­—ç¬¦ä¸²CONCAT_WS(sep,s1,s2...,sn)å°†s1,s2...,snè¿æ¥æˆå­—ç¬¦ä¸²ï¼Œå¹¶ç”¨sepå­—ç¬¦é—´éš”INSERT(str,x,y,instr) å°†å­—ç¬¦ä¸²strä»ç¬¬xä½ç½®å¼€å§‹ï¼Œyä¸ªå­—ç¬¦é•¿çš„å­ä¸²æ›¿æ¢ä¸ºå­—ç¬¦ä¸²instrï¼Œè¿”å›ç»“æœFIND_IN_SET(str,list)åˆ†æé€—å·åˆ†éš”çš„liståˆ—è¡¨ï¼Œå¦‚æœå‘ç°strï¼Œè¿”å›stråœ¨listä¸­çš„ä½ç½®LCASE(str)æˆ–LOWER(str) è¿”å›å°†å­—ç¬¦ä¸²strä¸­æ‰€æœ‰å­—ç¬¦æ”¹å˜ä¸ºå°å†™åçš„ç»“æœLEFT(str,x)è¿”å›å­—ç¬¦ä¸²strä¸­æœ€å·¦è¾¹çš„xä¸ªå­—ç¬¦LENGTH(s)è¿”å›å­—ç¬¦ä¸²strä¸­çš„å­—ç¬¦æ•°LTRIM(str) ä»å­—ç¬¦ä¸²strä¸­åˆ‡æ‰å¼€å¤´çš„ç©ºæ ¼POSITION(substr,str) è¿”å›å­ä¸²substråœ¨å­—ç¬¦ä¸²strä¸­ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®QUOTE(str) ç”¨åæ–œæ è½¬ä¹‰strä¸­çš„å•å¼•å·REPEAT(str,srchstr,rplcstr)è¿”å›å­—ç¬¦ä¸²stré‡å¤xæ¬¡çš„ç»“æœREVERSE(str) è¿”å›é¢ å€’å­—ç¬¦ä¸²strçš„ç»“æœRIGHT(str,x) è¿”å›å­—ç¬¦ä¸²strä¸­æœ€å³è¾¹çš„xä¸ªå­—ç¬¦RTRIM(str) è¿”å›å­—ç¬¦ä¸²strå°¾éƒ¨çš„ç©ºæ ¼STRCMP(s1,s2)æ¯”è¾ƒå­—ç¬¦ä¸²s1å’Œs2TRIM(str)å»é™¤å­—ç¬¦ä¸²é¦–éƒ¨å’Œå°¾éƒ¨çš„æ‰€æœ‰ç©ºæ ¼UCASE(str)æˆ–UPPER(str) è¿”å›å°†å­—ç¬¦ä¸²strä¸­æ‰€æœ‰å­—ç¬¦è½¬å˜ä¸ºå¤§å†™åçš„ç»“æœå››ã€æ—¥æœŸå’Œæ—¶é—´å‡½æ•°CURDATE()æˆ–CURRENT_DATE() è¿”å›å½“å‰çš„æ—¥æœŸCURTIME()æˆ–CURRENT_TIME() è¿”å›å½“å‰çš„æ—¶é—´DATE_ADD(date,INTERVAL int keyword)è¿”å›æ—¥æœŸdateåŠ ä¸Šé—´éš”æ—¶é—´intçš„ç»“æœ(intå¿…é¡»æŒ‰ç…§å…³é”®å­—è¿›è¡Œæ ¼å¼åŒ–),å¦‚ï¼šSELECTDATE_ADD(CURRENT_DATE,INTERVAL 6 MONTH);DATE_FORMAT(date,fmt) ä¾ç…§æŒ‡å®šçš„fmtæ ¼å¼æ ¼å¼åŒ–æ—¥æœŸdateå€¼DATE_SUB(date,INTERVAL int keyword)è¿”å›æ—¥æœŸdateåŠ ä¸Šé—´éš”æ—¶é—´intçš„ç»“æœ(intå¿…é¡»æŒ‰ç…§å…³é”®å­—è¿›è¡Œæ ¼å¼åŒ–),å¦‚ï¼šSELECTDATE_SUB(CURRENT_DATE,INTERVAL 6 MONTH);DAYOFWEEK(date) è¿”å›dateæ‰€ä»£è¡¨çš„ä¸€æ˜ŸæœŸä¸­çš„ç¬¬å‡ å¤©(1~7)DAYOFMONTH(date) è¿”å›dateæ˜¯ä¸€ä¸ªæœˆçš„ç¬¬å‡ å¤©(1~31)DAYOFYEAR(date) è¿”å›dateæ˜¯ä¸€å¹´çš„ç¬¬å‡ å¤©(1~366)DAYNAME(date) è¿”å›dateçš„æ˜ŸæœŸåï¼Œå¦‚ï¼šSELECT DAYNAME(CURRENT_DATE);FROM_UNIXTIME(ts,fmt) æ ¹æ®æŒ‡å®šçš„fmtæ ¼å¼ï¼Œæ ¼å¼åŒ–UNIXæ—¶é—´æˆ³tsHOUR(time) è¿”å›timeçš„å°æ—¶å€¼(0~23)MINUTE(time) è¿”å›timeçš„åˆ†é’Ÿå€¼(0~59)MONTH(date) è¿”å›dateçš„æœˆä»½å€¼(1~12)MONTHNAME(date) è¿”å›dateçš„æœˆä»½åï¼Œå¦‚ï¼šSELECT MONTHNAME(CURRENT_DATE);NOW() è¿”å›å½“å‰çš„æ—¥æœŸå’Œæ—¶é—´QUARTER(date) è¿”å›dateåœ¨ä¸€å¹´ä¸­çš„å­£åº¦(1~4)ï¼Œå¦‚SELECT QUARTER(CURRENT_DATE);WEEK(date) è¿”å›æ—¥æœŸdateä¸ºä¸€å¹´ä¸­ç¬¬å‡ å‘¨(0~53)YEAR(date) è¿”å›æ—¥æœŸdateçš„å¹´ä»½(1000~9999)äº”ã€åŠ å¯†å‡½æ•°AES_ENCRYPT(str,key) è¿”å›ç”¨å¯†é’¥keyå¯¹å­—ç¬¦ä¸²stråˆ©ç”¨é«˜çº§åŠ å¯†æ ‡å‡†ç®—æ³•åŠ å¯†åçš„ç»“æœï¼Œè°ƒç”¨AES_ENCRYPTçš„ç»“æœæ˜¯ä¸€ä¸ªäºŒè¿›åˆ¶å­—ç¬¦ä¸²ï¼Œä»¥BLOBç±»å‹å­˜å‚¨AES_DECRYPT(str,key) è¿”å›ç”¨å¯†é’¥keyå¯¹å­—ç¬¦ä¸²stråˆ©ç”¨é«˜çº§åŠ å¯†æ ‡å‡†ç®—æ³•è§£å¯†åçš„ç»“æœDECODE(str,key) ä½¿ç”¨keyä½œä¸ºå¯†é’¥è§£å¯†åŠ å¯†å­—ç¬¦ä¸²strENCRYPT(str,salt) ä½¿ç”¨UNIXcrypt()å‡½æ•°ï¼Œç”¨å…³é”®è¯salt(ä¸€ä¸ªå¯ä»¥æƒŸä¸€ç¡®å®šå£ä»¤çš„å­—ç¬¦ä¸²ï¼Œå°±åƒé’¥åŒ™ä¸€æ ·)åŠ å¯†å­—ç¬¦ä¸²strENCODE(str,key) ä½¿ç”¨keyä½œä¸ºå¯†é’¥åŠ å¯†å­—ç¬¦ä¸²strï¼Œè°ƒç”¨ENCODE()çš„ç»“æœæ˜¯ä¸€ä¸ªäºŒè¿›åˆ¶å­—ç¬¦ä¸²ï¼Œå®ƒä»¥BLOBç±»å‹å­˜å‚¨MD5() è®¡ç®—å­—ç¬¦ä¸²strçš„MD5æ ¡éªŒå’ŒPASSWORD(str) è¿”å›å­—ç¬¦ä¸²strçš„åŠ å¯†ç‰ˆæœ¬ï¼Œè¿™ä¸ªåŠ å¯†è¿‡ç¨‹æ˜¯ä¸å¯é€†è½¬çš„ï¼Œå’ŒUNIXå¯†ç åŠ å¯†è¿‡ç¨‹ä½¿ç”¨ä¸åŒçš„ç®—æ³•ã€‚SHA() è®¡ç®—å­—ç¬¦ä¸²strçš„å®‰å…¨æ•£åˆ—ç®—æ³•(SHA)æ ¡éªŒå’Œå…­ã€æ§åˆ¶æµå‡½æ•°MySQLæœ‰4ä¸ªå‡½æ•°æ˜¯ç”¨æ¥è¿›è¡Œæ¡ä»¶æ“ä½œçš„ï¼Œè¿™äº›å‡½æ•°å¯ä»¥å®ç°SQLçš„æ¡ä»¶é€»è¾‘ï¼Œå…è®¸å¼€å‘è€…å°†ä¸€äº›åº”ç”¨ç¨‹åºä¸šåŠ¡é€»è¾‘è½¬æ¢åˆ°æ•°æ®åº“åå°ã€‚MySQLæ§åˆ¶æµå‡½æ•°ï¼šCASE WHEN[test1] THEN [result1]...ELSE [default] ENDå¦‚æœtestNæ˜¯çœŸï¼Œåˆ™è¿”å›resultNï¼Œå¦åˆ™è¿”å›defaultCASE [test] WHEN[val1] THEN [result]...ELSE [default]END å¦‚æœtestå’ŒvalNç›¸ç­‰ï¼Œåˆ™è¿”å›resultNï¼Œå¦åˆ™è¿”å›defaultIF(test,t,f) å¦‚æœtestæ˜¯çœŸï¼Œè¿”å›tï¼›å¦åˆ™è¿”å›fIFNULL(arg1,arg2) å¦‚æœarg1ä¸æ˜¯ç©ºï¼Œè¿”å›arg1ï¼Œå¦åˆ™è¿”å›arg2NULLIF(arg1,arg2) å¦‚æœarg1=arg2è¿”å›NULLï¼›å¦åˆ™è¿”å›arg1ä¸ƒã€æ ¼å¼åŒ–å‡½æ•°DATE_FORMAT(date,fmt) ä¾ç…§å­—ç¬¦ä¸²fmtæ ¼å¼åŒ–æ—¥æœŸdateå€¼FORMAT(x,y) æŠŠxæ ¼å¼åŒ–ä¸ºä»¥é€—å·éš”å¼€çš„æ•°å­—åºåˆ—ï¼Œyæ˜¯ç»“æœçš„å°æ•°ä½æ•°INET_ATON(ip) è¿”å›IPåœ°å€çš„æ•°å­—è¡¨ç¤ºINET_NTOA(num) è¿”å›æ•°å­—æ‰€ä»£è¡¨çš„IPåœ°å€TIME_FORMAT(time,fmt) ä¾ç…§å­—ç¬¦ä¸²fmtæ ¼å¼åŒ–æ—¶é—´timeå€¼å…«ã€ç±»å‹è½¬åŒ–å‡½æ•°ä¸ºäº†è¿›è¡Œæ•°æ®ç±»å‹è½¬åŒ–ï¼ŒMySQLæä¾›äº†CAST()å‡½æ•°ï¼Œå®ƒå¯ä»¥æŠŠä¸€ä¸ªå€¼è½¬åŒ–ä¸ºæŒ‡å®šçš„æ•°æ®ç±»å‹ã€‚ç±»å‹æœ‰ï¼šBINARY,CHAR,DATE,TIME,DATETIME,SIGNED,UNSIGNEDä¹ã€ç³»ç»Ÿä¿¡æ¯å‡½æ•°DATABASE() è¿”å›å½“å‰æ•°æ®åº“åBENCHMARK(count,expr) å°†è¡¨è¾¾å¼expré‡å¤è¿è¡Œcountæ¬¡CONNECTION_ID() è¿”å›å½“å‰å®¢æˆ·çš„è¿æ¥IDFOUND_ROWS() è¿”å›æœ€åä¸€ä¸ªSELECTæŸ¥è¯¢è¿›è¡Œæ£€ç´¢çš„æ€»è¡Œæ•°USER()æˆ–SYSTEM_USER() è¿”å›å½“å‰ç™»é™†ç”¨æˆ·åVERSION() è¿”å›MySQLæœåŠ¡å™¨çš„ç‰ˆæœ¬ äº”ã€psæ’ä»¶ï¼šBackground Image Plus +å…­ã€docker å›¾å½¢åŒ–å·¥å…·portainer ï¼Œshipyardä¸ƒã€å¤šæœºå®šæ—¶ä»»åŠ¡å¯è§†åŒ–ç®¡ç†ç³»ç»ŸGocronåˆ†äº« é¡¹ç›®GitHubåœ°å€: https://github.com/ouqiang/gocron å…«ã€åˆ†äº«å‡ ä¸ªæµè§ˆå™¨çš„APIæ¥å£(å¾ˆå®ç”¨) https://www.toutiao.com/i6682529032929542669/ ä¹ã€MProxyæ˜¯ä¸€ä¸ªåŸºäºmysqlåè®®ï¼Œä½¿ç”¨swoole å¼€å‘çš„mysqlæ•°æ®åº“è¿æ¥æ±  https://www.toutiao.com/i6755856450158854664/ åã€WEBå¤§å¹¶å‘ä¹‹Nginxä¼˜åŒ–ç§˜ç± https://www.toutiao.com/i6747547801699222024/ åä¸€ã€Redis åˆ°åº•æ˜¯æ€ä¹ˆå®ç° -&gt;é™„è¿‘çš„äºº https://www.toutiao.com/i6747559205139382791/ åäºŒã€å¦‚ä½•ç†è§£CGI,FastCGI,php-fpm https://www.toutiao.com/i6744630391568597516/ åä¸‰ã€ PHPè°ƒè¯•ä¹‹ChromePHPåå››ã€ åŸºç¡€ä¹Ÿå¾ˆé‡è¦ï¼PHPä¸­ä»¤äººå›°æƒ‘çš„strtotimeï¼Œæœ‰æ—¶ä¹Ÿä¼šé—¹äº›å°è„¾æ°” https://www.toutiao.com/c/user/62018430890/#mid=1639681391650823 åäº”ã€ ä½¿ç”¨ PHP å®ç° LRU ç¼“å­˜æ·˜æ±°ç®—æ³• https://www.toutiao.com/i6746606879931105805/ åå…­ã€ JWTä¸Sessionçš„æ¯”è¾ƒ https://www.toutiao.com/i6737442710434628103/ åä¸ƒã€ æŠ½è±¡ç±»ä¸æ¥å£çš„åŒºåˆ« https://www.toutiao.com/i6670462347686969860/ åå…«ã€ PHPå¹¶è¡Œè¯·æ±‚æ¥å£ https://www.toutiao.com/i6721889491918782983/ åä¹ã€ ç”¨çœŸå®æ¡ˆä¾‹æ¥äº†è§£PHPåº•å±‚æŠ€æœ¯åŸç†åŠä»£ç ä¼˜åŒ–å»ºè®® https://www.toutiao.com/i6723170171646640644/ äºŒåã€é€šè¿‡nginxåå‘ä»£ç†å®ç°è·¨åŸŸè®¿é—® https://www.toutiao.com/i6723179273017885196/ äºŒåä¸€ã€åå…«èˆ¬æ­¦è‰ºä¹‹Nginxè¸©å‘æ€»ç»“ https://www.toutiao.com/i6722699822328971783/ äºŒåäºŒã€PHPå¤šä»»åŠ¡ï¼Œå¹¶å‘å¹¶è¡Œï¼Œå¤šçº¿ç¨‹ï¼Œåç¨‹ç­‰çŸ¥è¯†ç‚¹ç†è§£ https://www.toutiao.com/i6723083914933436942/ äºŒåä¸‰ã€PHP 7.4ç±»å‹å±æ€§å®ä¾‹è¯¦è§£ https://www.toutiao.com/i6722262748182348296/ äºŒåå››ã€Redis,é‚£ä½ ä»¬çŸ¥é“ä¸‰å¤§è¡ç”Ÿæ•°æ®ç»“æ„å— https://www.toutiao.com/i6719076021229847043/ äºŒåäº”ã€redis å’Œ memcached æœ‰ä»€ä¹ˆåŒºåˆ« https://www.toutiao.com/item/6719410555750187527/ åŸºäºåˆ†å¸ƒå¼é”çš„é˜²æ­¢é‡å¤è¯·æ±‚è§£å†³æ–¹æ¡ˆï¼ˆå€¼å¾—æ”¶è—ï¼‰ https://www.toutiao.com/item/6718897355686412807/ è¶…è¯¦ç»†çš„MySQL binlogæ€»ç»“ï¼Œå€¼å¾—æ”¶è— https://www.toutiao.com/item/6716082287168979469/ MySqlå¿«é€Ÿæ’å…¥ç™¾ä¸‡æ¡æ•°æ®ã€Œå·´åˆ†å·´ç§’ã€ https://www.toutiao.com/item/6713815180104434187/ Githubä¸Š 10 ä¸ªå¼€æºå…è´¹ä¸”ä¼˜ç§€çš„åå°æ§åˆ¶é¢æ¿ https://www.toutiao.com/item/6683377252178067981/ JSON Web Token - åœ¨Webåº”ç”¨é—´å®‰å…¨åœ°ä¼ é€’ä¿¡æ¯ https://www.toutiao.com/item/6679714227688571404/ æ¨èä¹ä¸ªå ªç§°ç¥å™¨çš„å‘½ä»¤è¡Œå·¥å…·ç»™ç¨‹åºå‘˜ä»¬ https://www.toutiao.com/item/6688105611495735812/ ç¨‹åºçŒ¿30ä¸ªéªšæ“ä½œ https://www.toutiao.com/item/6688319659667620359/ mysqlä¸»é”®ç´¢å¼•å’Œæ™®é€šç´¢å¼•ä¹‹é—´çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ î˜‰ https://www.toutiao.com/item/6688808031032967688/ è¿™ 10 æ¬¾å ªç§°ç¥å™¨çš„æ’ä»¶ï¼Œè®©ä½ çš„ Chrome æˆä¸ºæœ€å¥½ç”¨çš„æµè§ˆå™¨ https://www.toutiao.com/item/6690440291205251588/ Kafkaã€RabbitMQã€RocketMQã€ActiveMQ åˆ°åº•è¯¥é€‰ç”¨å“ªä¸ªï¼Ÿ https://www.toutiao.com/item/6689710266097074700/ å¼€å‘ç¥å™¨ï¼Œå…¨èƒ½ç¨‹åºå‘˜å°±åœ¨è¿™é‡Œ https://www.toutiao.com/item/6691461187449651719/ IntelliJ IDEA 18ä¸ªå¸¸ç”¨æ’ä»¶ï¼ŒåŠ¨å›¾æ¼”ç¤ºï¼Œè®©æ•ˆç‡æˆä¸ºä¹ æƒ¯ https://www.toutiao.com/item/6694088151943610884/ ä¸€æ–‡ææ‡‚Nginxé™æµï¼ŒåŸæ¥è¿™ä¹ˆç®€å• https://www.toutiao.com/item/6694571806835081742/ è¯¦è§£Redis ä¸»ä»å¤åˆ¶åŠä¸»ä»å¤åˆ¶åŸç† https://www.toutiao.com/item/6693803701817049608/ SQLé«˜çº§çŸ¥è¯†â€”â€”é€’å½’æŸ¥è¯¢ https://www.toutiao.com/item/6694050855185809933/ 15å¹´å‰çš„å‹æµ‹å·¥å…·ä¾ç„¶æ˜¯è¿ç»´å¿…å¤‡ï¼Œ600 è¡Œä»£ç å®ç°æœ€é«˜ 30k å¹¶å‘ https://www.toutiao.com/item/6695638547438764558/ 19æ¡MySQLä¼˜åŒ–ç»éªŒ https://www.toutiao.com/item/6670689051776909837/ Sentinelå“¨å…µæœºåˆ¶å®ç°Redisçš„é«˜å¯ç”¨ https://www.toutiao.com/item/6691809335594451460/ ä½ æœ¬å¯ä»¥å°‘å†™äº› if-else https://www.toutiao.com/item/6697113412352082440/ ä½¿ç”¨canalå¢é‡åŒæ­¥mysqlæ•°æ®åº“ä¿¡æ¯åˆ°ElasticSearch https://www.toutiao.com/item/6706096293032231432/ â€œåˆ†å¸ƒå¼äº‹åŠ¡â€ï¼Œè¿™æ¬¡å½»åº•æ‡‚äº† https://www.toutiao.com/item/6707131456386236940/ åŸºäºElectronå®ç°çš„PCæ¡Œé¢èŠå¤©è½¯ä»¶ https://www.toutiao.com/item/6709286488976130572/ æœ‰äº†docsifyç¥å™¨ï¼Œä»æ­¤çˆ±ä¸Šçœ‹æ–‡æ¡£ https://www.toutiao.com/item/6717631819438621191/ 70æ¡å¸¸ç”¨Linuxå‘½ä»¤ï¼ŒåŠ©ä½ å®Œæˆå°ç™½åˆ°å¤§ç¥çš„è½¬å˜ https://www.toutiao.com/item/6717117096012022286/ æ‰«ç›²ï¼Œä¸ºä»€ä¹ˆåˆ†å¸ƒå¼ä¸€å®šè¦æœ‰Redis? https://www.toutiao.com/item/6717771071157699079/ æˆ‘æƒ³è¯´ï¼šmysqlçš„joinçœŸçš„å¾ˆå¼± https://www.toutiao.com/item/6718552839372669448/ ä½ çš„é¡¹ç›®ä¸­æœ‰Rediså—ï¼ŸGetå®Œè¿™ç¯‡ä½ èƒ½æŒæ¡Redis60%ï¼ˆæ¨èæ”¶è—ï¼‰ https://www.toutiao.com/item/6717964909688128011/ mysqlå¼€å‘ç†è®ºï¼šææ‡‚ä»€ä¹ˆæ˜¯é•¿è¿æ¥ï¼ŒçŸ­è¿æ¥å’Œè¿æ¥æ±  https://www.toutiao.com/item/6718702794125083150/ 100ä¸ªLaravelå¼€å‘äººå‘˜ä¸‹è½½é‡æœ€é«˜çš„æ‰©å±•åŒ… https://www.toutiao.com/item/6721915619194700302/ 2019å¹´360PHPå·¥ç¨‹å¸ˆé¢è¯•é¢˜ https://www.toutiao.com/item/6722683385396855310/ ç¥å¥‡çš„ SQL ä¹‹å­æŸ¥è¯¢ï¼Œç»†èŠ‚æ»¡æ»¡ https://www.toutiao.com/item/6723071276455297548/ PHPçš„å¾®æœåŠ¡æ¡†æ¶é¢„è§ˆ https://www.toutiao.com/item/6727168703365923339/ ç®€è¿°PHPå¦‚ä½•å®ç°è¯­éŸ³è¯†åˆ«åŠŸèƒ½ https://www.toutiao.com/item/6733463929592218125/ php çš„åå°„æœºåˆ¶æ˜¯ä»€ä¹ˆï¼Ÿè¯¦è§£PHPåå°„API` https://www.toutiao.com/item/6727067503802974727/ å¤šå¹³å°ç»Ÿä¸€ï¼Œå°ç¨‹åºè·¨å¹³å°å¼€å‘ç»Ÿä¸€è§£å†³æ–¹æ¡ˆâ€”â€”Antmove https://www.toutiao.com/item/6723159018186998275/ é’ˆå¯¹phpä½¿ç”¨tarsäºŒè¿›åˆ¶åè®®çš„æ•´ä½“è¿ç»´ã€RPCç­‰ä¸€ç³»åˆ—çš„è§£å†³æ–¹æ¡ˆ https://www.toutiao.com/item/6722611925814870531/ åˆ†äº«ä¸€æ¬¾MySQLè¯­å¥ä¼˜åŒ–è¾…åŠ©å·¥å…·â€“DBAå¿…å¤‡ https://www.toutiao.com/item/6743570924152291843/ Workermané€šä¿¡æ¡†æ¶-åè®®Httpç±»è§£æ https://www.toutiao.com/item/6743570924152291843/ æ•°æ®åŒæ­¥å·¥å…·otterï¼ˆä¸€ï¼‰è°ˆè°ˆbinlogå’Œcanal https://www.toutiao.com/item/6731594561778352647/ è¿›ç¨‹(process)ï¼Œä½œä¸ºæ“ä½œç³»ç»Ÿç»“æ„çš„åŸºç¡€ï¼Œå¤šç§çŠ¶æ€ä¸‹çš„æƒ…å½¢åˆ†æ https://www.toutiao.com/item/6744874472232190475/ è°ˆè°ˆmongodb,mysqlçš„åŒºåˆ«å’Œå…·ä½“åº”ç”¨åœºæ™¯ https://www.toutiao.com/item/6722071545943949831/ æˆ‘ä»¥ä¸ºæˆ‘å¯¹Kafkaå¾ˆäº†è§£ï¼Œç›´åˆ°æˆ‘çœ‹äº†æ­¤æ–‡ç«  https://www.toutiao.com/item/6724572557472694796/ MySQLè¡¨é”ï¼Œä»¥ä¸ºè‡ªå·±æ‡‚äº†ï¼Œç»“æœä¸€ä¸ªç­”å¯¹çš„éƒ½æ²¡æœ‰ https://www.toutiao.com/item/6742110043904147980/ æ¥å£è®¾è®¡æŠ€å·§å’Œæœ€ä½³å®è·µ https://www.toutiao.com/item/6732643141809078798/ nginxé…ç½®é™æ€èµ„æºä¸åŠ¨æ€è®¿é—®åˆ†ç¦» https://www.toutiao.com/item/6738259493387239949/ ç†è§£ PHP ä¾èµ–æ³¨å…¥ å’Œ æ§åˆ¶åè½¬ https://www.toutiao.com/item/6737855911936655885/ Laravelå®ç°å®šæ—¶å‘å¸ƒä»»åŠ¡ https://www.toutiao.com/item/6737526429862330894/ ç”¨ Authing 10åˆ†é’Ÿå®ç°å•ç‚¹ç™»å½•ï¼ˆSSOï¼‰ https://www.toutiao.com/item/6726060529799922187/ phpè®¾ç½®é”™è¯¯çº§åˆ« https://www.toutiao.com/item/6746615399149732356/","tags":[{"name":"tool","slug":"tool","permalink":"https://superver.github.io/tags/tool/"}],"categories":[{"name":"tool","slug":"tool","permalink":"https://superver.github.io/categories/tool/"}]},{"title":"rediså¸¸ç”¨é¢è¯•é—®ç­”","date":"2020-05-05T23:01:08.040Z","path":"wiki/resume/redis_ä¸ºå•¥ä¼šå¿«/","text":"ä¸€ã€Redisä¸ºä»€ä¹ˆæ˜¯å•çº¿ç¨‹å•çº¿ç¨‹æ¨¡å‹,æ²¡æœ‰å¤šä½™çš„cpuä¸Šä¸‹æ–‡åˆ‡æ¢,è€Œä¸”ä¹Ÿä¸ç”¨è®¾è®¡å†…éƒ¨é”æœºåˆ¶,redis å•çº¿ç¨‹æŒ‡çš„æ˜¯ç½‘ç»œè¯·æ±‚æ¨¡å—ä½¿ç”¨äº†ä¸€ä¸ªçº¿ç¨‹ï¼Œå³ä¸€ä¸ªçº¿ç¨‹å¤„ç†æ‰€æœ‰ç½‘ç»œè¯·æ±‚ï¼Œå…¶ä»–æ¨¡å—ä»ç”¨äº†å¤šä¸ªçº¿ç¨‹,å› ä¸ºCPUä¸æ˜¯Redisçš„ç“¶é¢ˆã€‚Redisçš„ç“¶é¢ˆæœ€æœ‰å¯èƒ½æ˜¯æœºå™¨å†…å­˜æˆ–è€…ç½‘ç»œå¸¦å®½ï¼Œæ—¢ç„¶å•çº¿ç¨‹å®¹æ˜“å®ç°ï¼Œè€Œä¸”CPUä¸ä¼šæˆä¸ºç“¶é¢ˆï¼Œé‚£å°±é¡ºç†æˆç« åœ°é‡‡ç”¨å•çº¿ç¨‹çš„æ–¹æ¡ˆäº†; äºŒã€Redisä¸ºä»€ä¹ˆè¿™ä¹ˆå¿«1ã€å®Œå…¨åŸºäºå†…å­˜ï¼Œç»å¤§éƒ¨åˆ†è¯·æ±‚æ˜¯çº¯ç²¹çš„å†…å­˜æ“ä½œï¼Œéå¸¸å¿«é€Ÿã€‚æ•°æ®å­˜åœ¨å†…å­˜ä¸­ï¼Œç±»ä¼¼äºHashMapï¼ŒHashMapçš„ä¼˜åŠ¿å°±æ˜¯æŸ¥æ‰¾å’Œæ“ä½œçš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯O(1)ï¼› 2ã€æ•°æ®ç»“æ„ç®€å•ï¼Œå¯¹æ•°æ®æ“ä½œä¹Ÿç®€å•ï¼ŒRedisä¸­çš„æ•°æ®ç»“æ„æ˜¯ä¸“é—¨è¿›è¡Œè®¾è®¡çš„ï¼› 3ã€é‡‡ç”¨å•çº¿ç¨‹ï¼Œé¿å…äº†ä¸å¿…è¦çš„ä¸Šä¸‹æ–‡åˆ‡æ¢å’Œç«äº‰æ¡ä»¶ï¼Œä¹Ÿä¸å­˜åœ¨å¤šè¿›ç¨‹æˆ–è€…å¤šçº¿ç¨‹å¯¼è‡´çš„åˆ‡æ¢è€Œæ¶ˆè€— CPUï¼Œä¸ç”¨å»è€ƒè™‘å„ç§é”çš„é—®é¢˜ï¼Œä¸å­˜åœ¨åŠ é”é‡Šæ”¾é”æ“ä½œï¼Œæ²¡æœ‰å› ä¸ºå¯èƒ½å‡ºç°æ­»é”è€Œå¯¼è‡´çš„æ€§èƒ½æ¶ˆè€—ï¼› 4ã€ä½¿ç”¨å¤šè·¯I/Oå¤ç”¨æ¨¡å‹ï¼Œéé˜»å¡IOï¼› 5ã€ä½¿ç”¨åº•å±‚æ¨¡å‹ä¸åŒï¼Œå®ƒä»¬ä¹‹é—´åº•å±‚å®ç°æ–¹å¼ä»¥åŠä¸å®¢æˆ·ç«¯ä¹‹é—´é€šä¿¡çš„åº”ç”¨åè®®ä¸ä¸€æ ·ï¼ŒRedisç›´æ¥è‡ªå·±æ„å»ºäº†VM æœºåˆ¶ ï¼Œå› ä¸ºä¸€èˆ¬çš„ç³»ç»Ÿè°ƒç”¨ç³»ç»Ÿå‡½æ•°çš„è¯ï¼Œä¼šæµªè´¹ä¸€å®šçš„æ—¶é—´å»ç§»åŠ¨å’Œè¯·æ±‚ï¼› ä¸‰ã€å¤šè·¯I/Oå¤ç”¨æ¨¡å‹ï¼Œéé˜»å¡IOä¸‹é¢ä¸¾ä¸€ä¸ªä¾‹å­ï¼Œæ¨¡æ‹Ÿä¸€ä¸ªtcpæœåŠ¡å™¨å¤„ç†30ä¸ªå®¢æˆ·socketã€‚ å‡è®¾ä½ æ˜¯ä¸€ä¸ªç›‘è€ƒè€å¸ˆï¼Œè®©30ä¸ªå­¦ç”Ÿè§£ç­”ä¸€é“ç«èµ›è€ƒé¢˜ï¼Œç„¶åè´Ÿè´£éªŒæ”¶å­¦ç”Ÿç­”å·ï¼Œä½ æœ‰ä¸‹é¢å‡ ä¸ªé€‰æ‹©ï¼š 1.ç¬¬ä¸€ç§é€‰æ‹©ï¼šæŒ‰é¡ºåºé€ä¸ªéªŒæ”¶ï¼Œå…ˆéªŒæ”¶Aï¼Œç„¶åæ˜¯Bï¼Œä¹‹åæ˜¯Cã€Dã€‚ã€‚ã€‚è¿™ä¸­é—´å¦‚æœæœ‰ä¸€ä¸ªå­¦ç”Ÿå¡ä½ï¼Œå…¨ç­éƒ½ä¼šè¢«è€½è¯¯ã€‚ è¿™ç§æ¨¡å¼å°±å¥½æ¯”ï¼Œä½ ç”¨å¾ªç¯æŒ¨ä¸ªå¤„ç†socketï¼Œæ ¹æœ¬ä¸å…·æœ‰å¹¶å‘èƒ½åŠ›ã€‚ 2.ç¬¬äºŒç§é€‰æ‹©ï¼šä½ åˆ›å»º30ä¸ªåˆ†èº«ï¼Œæ¯ä¸ªåˆ†èº«æ£€æŸ¥ä¸€ä¸ªå­¦ç”Ÿçš„ç­”æ¡ˆæ˜¯å¦æ­£ç¡®ã€‚è¿™ç§ç±»ä¼¼äºä¸ºæ¯ä¸€ä¸ªç”¨æˆ·åˆ›å»ºä¸€ä¸ªè¿›ç¨‹æˆ–è€…çº¿ç¨‹å¤„ç†è¿æ¥ã€‚ 3.ç¬¬ä¸‰ç§é€‰æ‹©ï¼Œä½ ç«™åœ¨è®²å°ä¸Šç­‰ï¼Œè°è§£ç­”å®Œè°ä¸¾æ‰‹ã€‚è¿™æ—¶Cã€Dä¸¾æ‰‹ï¼Œè¡¨ç¤ºä»–ä»¬è§£ç­”é—®é¢˜å®Œæ¯•ï¼Œä½ ä¸‹å»ä¾æ¬¡æ£€æŸ¥Cã€Dçš„ç­”æ¡ˆï¼Œç„¶åç»§ç»­å›åˆ°è®²å°ä¸Šç­‰ã€‚æ­¤æ—¶Eã€Aåˆä¸¾æ‰‹ï¼Œç„¶åå»å¤„ç†Eå’ŒAã€‚ã€‚ã€‚ è¿™ç§å°±æ˜¯IOå¤ç”¨æ¨¡å‹ï¼ŒLinuxä¸‹çš„selectã€pollå’Œepollå°±æ˜¯å¹²è¿™ä¸ªçš„ã€‚å°†ç”¨æˆ·socketå¯¹åº”çš„fdæ³¨å†Œè¿›epollï¼Œç„¶åepollå¸®ä½ ç›‘å¬å“ªäº›socketä¸Šæœ‰æ¶ˆæ¯åˆ°è¾¾ï¼Œè¿™æ ·å°±é¿å…äº†å¤§é‡çš„æ— ç”¨æ“ä½œã€‚æ­¤æ—¶çš„socketåº”è¯¥é‡‡ç”¨éé˜»å¡æ¨¡å¼ã€‚ è¿™æ ·ï¼Œæ•´ä¸ªè¿‡ç¨‹åªåœ¨è°ƒç”¨selectã€pollã€epollè¿™äº›è°ƒç”¨çš„æ—¶å€™æ‰ä¼šé˜»å¡ï¼Œæ”¶å‘å®¢æˆ·æ¶ˆæ¯æ˜¯ä¸ä¼šé˜»å¡çš„ï¼Œæ•´ä¸ªè¿›ç¨‹æˆ–è€…çº¿ç¨‹å°±è¢«å……åˆ†åˆ©ç”¨èµ·æ¥ï¼Œè¿™å°±æ˜¯äº‹ä»¶é©±åŠ¨ï¼Œæ‰€è°“çš„reactoræ¨¡å¼ã€‚ é’ˆå¯¹ä¸Šé¢çš„ä¸¾ä¾‹åœ¨Redisä¸­è¡¨ç°ä¸º æœ‰30ä¸ªrediså®¢æˆ·ç«¯ï¼ˆè€ƒç”Ÿï¼‰ä¸redisæœåŠ¡å™¨çš„ç½‘ç»œè¿æ¥æ¨¡å—ï¼ˆç›‘è€ƒè€å¸ˆï¼‰ä¿æŒTCPè¿æ¥ï¼Œå®¢æˆ·ç«¯ä¼šä¸å®šæ—¶çš„å‘é€è¯·æ±‚ç»™æœåŠ¡å™¨ï¼Œå½“æœ‰ä¸€ä¸ªrediså®¢æˆ·ç«¯å‘èµ·è¯·æ±‚ï¼Œä¼šè§¦å‘unixç³»ç»Ÿåƒepollè¿™æ ·çš„ç³»ç»Ÿè°ƒç”¨ï¼ŒRedisçš„I/O å¤šè·¯å¤ç”¨æ¨¡å—å°è£…äº†åº•å±‚çš„epollè¿™æ ·çš„ I/O å¤šè·¯å¤ç”¨å‡½æ•°ï¼Œç„¶åè½¬å‘åˆ°ç›¸åº”çš„äº‹ä»¶å¤„ç†å™¨ã€‚ æœ€åå¤šè·¯I/Oå¤ç”¨æ¨¡å‹å›¾ æ–‡ä»¶äº‹ä»¶å¤„ç†å™¨ä½¿ç”¨ I/O å¤šè·¯å¤ç”¨æ¨¡å—åŒæ—¶ç›‘å¬å¤šä¸ª FDï¼ˆæ–‡ä»¶æè¿°ç¬¦ï¼‰ï¼Œå½“ acceptã€readã€write å’Œ close æ–‡ä»¶äº‹ä»¶äº§ç”Ÿæ—¶ï¼Œæ–‡ä»¶äº‹ä»¶å¤„ç†å™¨å°±ä¼šå›è°ƒ FD ç»‘å®šçš„äº‹ä»¶å¤„ç†å™¨ã€‚ è™½ç„¶æ•´ä¸ªæ–‡ä»¶äº‹ä»¶å¤„ç†å™¨æ˜¯åœ¨å•çº¿ç¨‹ä¸Šè¿è¡Œçš„ï¼Œä½†æ˜¯é€šè¿‡ I/O å¤šè·¯å¤ç”¨æ¨¡å—çš„å¼•å…¥ï¼Œå®ç°äº†åŒæ—¶å¯¹å¤šä¸ª FD è¯»å†™çš„ç›‘æ§ï¼Œæé«˜äº†ç½‘ç»œé€šä¿¡æ¨¡å‹çš„æ€§èƒ½ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥ä¿è¯æ•´ä¸ª Redis æœåŠ¡å®ç°çš„ç®€å•ã€‚","tags":[{"name":"redis","slug":"redis","permalink":"https://superver.github.io/tags/redis/"}],"categories":[{"name":"resume","slug":"resume","permalink":"https://superver.github.io/categories/resume/"}]},{"title":"life is long long journey","date":"2020-05-05T06:46:10.069Z","path":"wiki/life/ç”Ÿæ´»_æ„Ÿæ‚Ÿ/","text":"ç”Ÿæ´»æ˜¯ä¸€æ®µé•¿é•¿çš„æ—…è¡Œ ç”Ÿæ´»æ˜¯ä¸€æ®µå¥‡å¦™çš„æ—…è¡Œï¼Œæ¯ä¸€å¤„é£æ™¯éƒ½æ˜¯å›å¿† å³ä½¿ä½ ä¸åœ¨æˆ‘èº«è¾¹ï¼Œæˆ‘ä¹Ÿè¦ç”¨æˆ‘çš„çœ¼ç›ï¼Œå¸®ä½ é—®å€™æ³¸æ²½æ¹–çš„æ—–æ—é£å…‰ã€‚ æ—…è¡Œä¸åœ¨ä¹ç»ˆç‚¹ï¼Œè€Œæ˜¯åœ¨æ„é€”ä¸­çš„äººå’Œäº‹ï¼Œè¿˜æœ‰é‚£äº›å®Œç¾çš„è®°å¿†å’Œæ™¯è‰²ã€‚ é’æ˜¥éšç€å¹´çºªçš„é•¿å¤§ä¸€åˆ‡éƒ½æ¸è¡Œæ¸è¿œï¼Œå……æ–¥ç€æŸ´ç±³æ²¹ç›","tags":[{"name":"life","slug":"life","permalink":"https://superver.github.io/tags/life/"}],"categories":[{"name":"life","slug":"life","permalink":"https://superver.github.io/categories/life/"}]},{"title":"nginxæ¨¡å—é…ç½®","date":"2020-05-05T06:02:56.652Z","path":"wiki/blog/nginx/nginx_php-fpm_é…ç½®/","text":"serveré…ç½®123loction.\\&#123; fast_cgi_param : inclue fast-params;&#125;","tags":[{"name":"nginx","slug":"nginx","permalink":"https://superver.github.io/tags/nginx/"},{"name":"linux","slug":"linux","permalink":"https://superver.github.io/tags/linux/"}],"categories":[{"name":"blog","slug":"blog","permalink":"https://superver.github.io/categories/blog/"},{"name":"nginx","slug":"blog/nginx","permalink":"https://superver.github.io/categories/blog/nginx/"}]},{"title":"php_å¸¸ç”¨å‡½æ•°","date":"2020-05-05T05:57:22.091Z","path":"wiki/blog/php/php_å¸¸ç”¨å‡½æ•°/","text":"æ‰©å±•å‡½æ•°å¸¸1array_coloumn($arr,$index,$key); phpå¸¸ç”¨ç®—æ³•-å†’æ³¡ 12345678910111213141516171819function BubbleSort($arr)&#123; if(empty($arr) || count($arr)&lt;=1 ) return $arr; $count = count($arr); $jmax = $count -1; for($i=0;$i&lt;$count,$i++)&#123; for($j=$i;$j&lt;$jmax;$j++)&#123; if($arr[$j]&gt;$arr[$i])&#123; //äº¤æ¢ä½ç½® $tmp = $arr[$j]; $arr[$j] = $arr[$i]; $arr[$i] = $tmp; &#125; &#125; &#125; return $arr; &#125; phpå¸¸ç”¨ç®—æ³•-å¿«é€Ÿ 123456789101112131415161718192021function quickSort($arr)&#123; if(empty($arr) || count($arr)&lt;=1 ) return $arr; $mid =$arr[0]; $len =count($arr); $right = $left = []; for($i=0;$i&lt;$arr;$i++)&#123; if($arr[$i]&gt;$mid)&#123; $right[] = $arr[$i]; &#125;else&#123; $left[] = $arr[$i]; &#125; &#125; $right = quickSort($right); $left = quickSort($left); return array_merge($right,array($mid),$right); &#125;","tags":[{"name":"php","slug":"php","permalink":"https://superver.github.io/tags/php/"}],"categories":[{"name":"blog","slug":"blog","permalink":"https://superver.github.io/categories/blog/"},{"name":"php","slug":"blog/php","permalink":"https://superver.github.io/categories/blog/php/"}]},{"title":"ã€å»ºå¼ºã€‘wiki é›†åˆ","date":"2020-05-05T04:10:59.939Z","path":"wiki/index/","text":"@blogphpç‰ˆèšåˆæ”¯ä»˜ @blogYiiæ¡†æ¶å¹²è´§é›†åˆ @blogphpçŸ¥è¯†ç‚¹é›†åˆ ğŸ˜ A little Tips in my Code Career with PHP ğŸ˜","tags":[],"categories":[]},{"title":"php_å¼•ç”¨è®¡æ•°ä¸gc","date":"2020-01-10T13:28:59.000Z","path":"wiki/blog/php/php_å¼•ç”¨è®¡æ•°ä¸GC/","text":"è¿›è¡Œphpæ‰©å±•å¼€å‘çš„æ—¶å€™ä¼šé‡åˆ°ä¸€äº›é—®é¢˜ï¼Œå°±æ˜¯phpç”¨æˆ·æ€ç©ºé—´å°†å˜é‡ä¼ é€’åˆ°æ‰©å±•å±‚é¢cå±‚è°ƒç”¨çš„æ—¶å€™ï¼Œä¼šå‡ºç°ä¸€äº›é—®é¢˜ï¼Œä¸‹é¢çš„ä¾‹å­æ˜¯ä¸€ä¸ªtimerå®šæ—¶å™¨çš„ä¾‹å­ã€‚ç”¨æˆ·ç©ºé—´ä¼šä¼ é€’ä¸€ä¸ªå›è°ƒå‡½æ•°ç»™timeræ‰©å±•æ¥å£ï¼Œé‚£ä¹ˆå®é™…å›è°ƒå‡½æ•°è¢«è°ƒç”¨çš„åœ°æ–¹æ˜¯cå±‚ã€‚ä½†æ˜¯è¯¥å›è°ƒå‡½æ•°å˜é‡æœ¬èº«æ˜¯ç”±ç”¨æˆ·ç©ºé—´ç”³è¯·å¹¶äº¤ç”±phpå†…æ ¸gcç®¡ç†çš„ï¼Œå¦‚æœæ‰©å±•å‡½æ•°å†…ä¸åšä»»ä½•æ“ä½œï¼Œé‚£ä¹ˆå½“åˆ‡æ¢åˆ°ç”¨æˆ·ç©ºé—´æ—¶phpå†…æ ¸ä¼šåˆ¤æ–­è¯¥å˜é‡éœ€è¦å›æ”¶ï¼Œç„¶åæ‰©å±•å‡½æ•°å°±ä¼šç©ºæŒ‡é’ˆå¼‚å¸¸ç­‰ å½“æ‰©å±•å‡½æ•°å†…è¯¥phpå˜é‡ç”Ÿå‘½å‘¨æœŸä½¿ç”¨ç»“æŸåï¼Œä»»ç„¶éœ€è¦è€ƒè™‘åƒåœ¾å›æ”¶çš„é—®é¢˜ï¼Œå¹¶ä¸æ˜¯åœ¨æ‰©å±•å‡½æ•°å†…ç®€å•free(data)å°±å¯ä»¥çš„ï¼Œéœ€è¦è°ƒç”¨phpå†…æ ¸å¼•ç”¨è®¡æ•°æ¥å£ç­‰è¿›è¡Œå˜é‡çš„å›æ”¶ä»¥åŠgcç­‰ï¼Œæœ€åäº¤ç”±phpå†…æ ¸gcç®¡ç†ã€‚å½“ç„¶æ‰©å±•å‡½æ•°å†…ç”±cè‡ªè¡Œç”³è¯·ç®¡ç†çš„å†…å­˜å¯ä»¥è‡ªå·±é‡Šæ”¾ æ‰©å±•å‡½æ•°å®šä¹‰ç¤ºä¾‹12345678910111213PHP_METHOD(timer_obj,tick)&#123; php_lib_timer_callback *fci = (php_lib_timer_callback *)malloc(sizeof(php_lib_timer_callback)); //å¼ºåˆ¶ä¼ å…¥ä¸¤ä¸ªå‚æ•° ZEND_PARSE_PARAMETERS_START(2, 2) Z_PARAM_LONG(fci-&gt;seconds) Z_PARAM_FUNC(fci-&gt;fci,fci-&gt;fcc) ZEND_PARSE_PARAMETERS_END_EX(RETURN_FALSE); long id = create_time_event(fci-&gt;seconds,tick,fci,del); zend_fci_cache_persist(&amp;fci-&gt;fcc); RETURN_LONG(id);&#125; æ‰©å±•å‡½æ•°å†…æ‰§è¡Œphpç”¨æˆ·æ€å›è°ƒå‡½æ•°ç¤ºä¾‹12345678910int tick(long long id,void *data)&#123; php_lib_timer_callback *fci = (php_lib_timer_callback *)data; zval result; fci-&gt;fci.retval = &amp;result; if(zend_call_function(&amp;fci-&gt;fci,&amp;fci-&gt;fcc) != SUCCESS)&#123; return NOMORE; &#125; return fci-&gt;seconds;&#125; timer ä¸­å¯¹å›è°ƒå‡½æ•°å˜é‡è¿›è¡Œå¼•ç”¨è®¡æ•°+1ä¸Šé¢ä¼šå‘ç°timer::tick()å‡½æ•°åœ¨è¿”å›ç»™ç”¨æˆ·ç©ºé—´æ—¶ä¼šåšä¸€ä¸ªæ“ä½œzend_fci_cache_persist(&amp;fci-&gt;fcc);ï¼Œæ­£æ˜¯è¯¥è°ƒç”¨å¯¹ä¼ å…¥çš„å›è°ƒå‡½æ•°è¿›è¡Œé¥®ç”¨è®¡æ•°ç®¡ç†ï¼Œå‘Šè¯‰phpå†…æ ¸è¯¥å›è°ƒå‡½æ•°åœ¨cå±‚ä¼šç»§ç»­ä½¿ç”¨ä¸ç”¨å›æ”¶ã€‚ä»£ç å¦‚ä¸‹1234567891011static void zend_fci_cache_persist(zend_fcall_info_cache *fci_cache)&#123; if (fci_cache-&gt;object) &#123; GC_ADDREF(fci_cache-&gt;object); &#125; if (fci_cache-&gt;function_handler-&gt;op_array.fn_flags &amp; ZEND_ACC_CLOSURE) &#123; GC_ADDREF(ZEND_CLOSURE_OBJECT(fci_cache-&gt;function_handler)); &#125;&#125; å…¶ä¸­GC_ADDREFï¼ˆï¼‰å‡½æ•°å¾ˆæ˜æ˜¾å°±æ˜¯å†…æ ¸GCç›¸å…³çš„apiã€‚fci_cache-&gt;function_handler åˆ™ä¸ºç”¨æˆ·ä¼ é€’çš„å›è°ƒå‡½æ•°çœŸæ­£çš„å˜é‡åœ°å€ å¦‚ä¸Šå‰å¥åå°±å¯ä»¥åœ¨cæ‰©å±•ä¸­æ”¾å¿ƒçš„å¯¹ç”¨æˆ·ä¼ é€’çš„å˜é‡è¿›è¡Œæ“ä½œäº† timer ä¸­ç»“æŸåå˜é‡çš„Gcå›æ”¶ä¸Šé¢æœ‰çœ‹åˆ°php_lib_timer_callbackå˜é‡å®é™…æ˜¯è‡ªå·±å®šä¹‰çš„ç»“æ„ä½“ï¼ŒåŒ…æ‹¬å†…å­˜ä¹Ÿæ˜¯æœ‰å¼€å‘è€…è‡ªå·±åˆ†é…çš„ï¼Œå¯ä»¥æ”¾å¿ƒçš„freeã€‚ä½†æ˜¯è¯¥ç»“æ„ä½“ä¸­æŒ‡å‘çš„fci.fcc åˆ™å®é™…æ˜¯phpç”¨æˆ·ç©ºé—´ç”³è¯·çš„å˜é‡ï¼Œä¸èƒ½ç›´æ¥free,å¦‚æœç›´æ¥freeï¼Œä¼šå¼•å‘php gcæ³„æ¼ï¼Œå¦‚ä¸‹è­¦å‘Šæ‰€ç¤º: 123&gt; php timer.php/php/src/Zend/zend_closures.c(459) : Freeing 0x00007fc084e6d480 (304 bytes), script=/timer.php=== Total 1 memory leaks detected === æ‰€ä»¥ä¾ç„¶éœ€è¦æ ¹æ®phpå†…æ ¸GCçš„ç®¡ç†æ–¹å¼æ¥å¤„ç†ç”¨æˆ·ç©ºé—´çš„å˜é‡ï¼Œä¹Ÿå°±æ˜¯æ¨¡æ‹Ÿç”¨æˆ·ç©ºé—´é‚£æ ·å¯¹å˜é‡çš„ç®¡ç†ï¼š 12345678910111213141516171819202122static void zend_fci_cache_discard(zend_fcall_info_cache *fci_cache)&#123; if (fci_cache-&gt;object) &#123; OBJ_RELEASE(fci_cache-&gt;object); &#125; if (fci_cache-&gt;function_handler-&gt;op_array.fn_flags &amp; ZEND_ACC_CLOSURE) &#123; OBJ_RELEASE(ZEND_CLOSURE_OBJECT(fci_cache-&gt;function_handler)); &#125;&#125;static void zend_fci_params_discard(zend_fcall_info *fci)&#123; if (fci-&gt;param_count &gt; 0) &#123; uint32_t i; for (i = 0; i &lt; fci-&gt;param_count; i++) &#123; zval_ptr_dtor(&amp;fci-&gt;params[i]); &#125; efree(fci-&gt;params); &#125;&#125; åœ¨ä¸éœ€è¦ä½¿ç”¨çš„æ—¶å€™ï¼Œä¹Ÿéœ€è¦å¯¹å›è°ƒå‡½æ•°æœ¬èº«è¿›è¡Œå‡å¼•ç”¨ï¼Œä»¥åŠå›è°ƒå‡½æ•°å†…çš„ç”¨æˆ·æ€çš„å‚æ•°è¿›è¡Œå‡å¼•ç”¨ä»¥åŠå˜é‡çš„å›æ”¶ã€‚åªæœ‰åšå®Œä¸Šé¢è¿™äº›åŸºæœ¬çš„ç®¡ç†æ‰èƒ½å¼€å‘ä¸€ä¸ªå®‰å…¨çš„æ‰©å±•å‡½æ•° æ€»ç»“æ€»ä¹‹ç”¨æˆ·ç©ºé—´ç”³è¯·çš„å˜é‡ä¼ é€’ç»™æ‰©å±•å†…å‡½æ•°ä½¿ç”¨ï¼Œå¦‚æœåœ¨è¿”å›ç»™ç”¨æˆ·ç©ºé—´åä¾ç„¶ä¼šç»§ç»­ä½¿ç”¨å°±è¦zval_copyæˆ–è€…å¼•ç”¨è®¡æ•°+1,å› ä¸ºåœ¨è¿”å›ç»™ç”¨æˆ·ç©ºé—´çš„æ—¶å€™æœ¬èº«ç”¨æˆ·ç©ºé—´gcä¼šåˆ¤æ–­è¯¥å˜é‡æ˜¯å¦æœ‰ç»§ç»­å¼•ç”¨ï¼Œå¦åˆ™å°±refcount -= 1ï¼Œç”¨æˆ·ç©ºé—´å›æ”¶è¯¥å˜é‡ï¼Œä½†æ˜¯æ‰©å±•å‡½æ•°å†…ä¾ç„¶åœ¨è®¿é—®è¯¥å·²ç»è¢«é”€æ¯çš„å˜é‡ã€‚å°±ä¼šå¯¼è‡´é”™è¯¯ åªæœ‰å°†è¿™äº›å˜é‡çš„å¼•ç”¨ä¸å›æ”¶åšå¥½äº†æ‰èƒ½å¼€å‘å‡ºå®‰å…¨å¯é çš„æ‰©å±•å‡½æ•°","tags":[{"name":"linux","slug":"linux","permalink":"https://superver.github.io/tags/linux/"},{"name":"php","slug":"php","permalink":"https://superver.github.io/tags/php/"},{"name":"c","slug":"c","permalink":"https://superver.github.io/tags/c/"},{"name":"ext","slug":"ext","permalink":"https://superver.github.io/tags/ext/"},{"name":"refrerence","slug":"refrerence","permalink":"https://superver.github.io/tags/refrerence/"},{"name":"gc","slug":"gc","permalink":"https://superver.github.io/tags/gc/"}],"categories":[{"name":"blog","slug":"blog","permalink":"https://superver.github.io/categories/blog/"},{"name":"php","slug":"blog/php","permalink":"https://superver.github.io/categories/blog/php/"}]}],"categories":[{"name":"tool","slug":"tool","permalink":"https://superver.github.io/categories/tool/"},{"name":"resume","slug":"resume","permalink":"https://superver.github.io/categories/resume/"},{"name":"life","slug":"life","permalink":"https://superver.github.io/categories/life/"},{"name":"blog","slug":"blog","permalink":"https://superver.github.io/categories/blog/"},{"name":"nginx","slug":"blog/nginx","permalink":"https://superver.github.io/categories/blog/nginx/"},{"name":"php","slug":"blog/php","permalink":"https://superver.github.io/categories/blog/php/"}],"tags":[{"name":"tool","slug":"tool","permalink":"https://superver.github.io/tags/tool/"},{"name":"redis","slug":"redis","permalink":"https://superver.github.io/tags/redis/"},{"name":"life","slug":"life","permalink":"https://superver.github.io/tags/life/"},{"name":"nginx","slug":"nginx","permalink":"https://superver.github.io/tags/nginx/"},{"name":"linux","slug":"linux","permalink":"https://superver.github.io/tags/linux/"},{"name":"php","slug":"php","permalink":"https://superver.github.io/tags/php/"},{"name":"c","slug":"c","permalink":"https://superver.github.io/tags/c/"},{"name":"ext","slug":"ext","permalink":"https://superver.github.io/tags/ext/"},{"name":"refrerence","slug":"refrerence","permalink":"https://superver.github.io/tags/refrerence/"},{"name":"gc","slug":"gc","permalink":"https://superver.github.io/tags/gc/"}]}